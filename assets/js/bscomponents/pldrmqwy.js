/*! Built with http://stenciljs.com */
const{h:e}=window.bscomponents;import{f as t,n as l,h as o,i as s,y as a,c as n,d as r,p as i,s as c,r as p,q as g}from"./chunk-d2b1926f.js";import{a as h}from"./chunk-f0d1b1e1.js";import{c as d}from"./chunk-7d6d9f73.js";import{a as u}from"./chunk-da49747d.js";import{a as f}from"./chunk-df46c743.js";import{a as m}from"./chunk-89796593.js";import{a as T}from"./chunk-e18b632f.js";import{a as E}from"./chunk-65570c01.js";import"./chunk-ede00b3a.js";var w=function(e){e=s(e);var a=l(e)?o(e):void 0,n=a?a[0]:e.charAt(0),r=a?t(a,1).join(""):e.slice(1);return n.toUpperCase()+r},y=a(Object.getPrototypeOf,Object),v=Function.prototype,C=Object.prototype,b=v.toString,P=C.hasOwnProperty,j=b.call(Object),B=function(e){return r(e)&&1===e.nodeType&&!function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=y(e);if(null===t)return!0;var l=P.call(t,"constructor")&&t.constructor;return"function"==typeof l&&l instanceof l&&b.call(l)==j}(e)};class O{constructor(){this.showEventName="show.bs.collapse",this.shownEventName="shown.bs.collapse",this.hideEventName="hide.bs.collapse",this.hiddenEventName="hidden.bs.collapse"}componentDidUnload(){this.relatedTarget=null}getConfig(e={},t=null){const l={};return l.relatedTarget=t,!0===e.toggle?l.toggle="toggle":!1===e.toggle?!0===this.thisCollapseIsShown()?l.toggle="show":l.toggle="hide":l.toggle=h(e,"toggle","toggle"),l.ignoreAccordion=h(e,"ignoreAccordion",!1),l.ignoreDataToggles=h(e,"ignoreDataToggles",!1),l.collapseElPlannedToBeOpened=[],l.collapseElPlannedToBeClosed=[],d(e,"target")?l.targetSelector=e.target:t&&d(t.dataset,"target")&&(l.targetSelector=t.dataset.target),d(e,"parent")&&B(e.parent)?l.parent=e.parent:d(e,"parent")&&"string"==typeof e.parent&&i(e.parent)>1?l.parent=e.parent:d(this.collapseEl.dataset,"parent")&&(l.parent=this.collapseEl.dataset.parent),l}closeOtherOpenAccordions(e){for(let t=0,l=e.collapseElPlannedToBeClosed.length;t<l;t+=1)e.collapseElPlannedToBeClosed[t].collapse&&!this.collapseEl.isEqualNode(e.collapseElPlannedToBeClosed[t])?e.collapseElPlannedToBeClosed[t].collapse({toggle:"hide",ignoreAccordion:!0,ignoreDataToggles:!0}):console.error('Unable to toggle collapse for all targets due to unavailable bs-collapse method "collapse')}static handleToggleDataToggles(e){const t=Array.prototype.slice.call(document.querySelectorAll('[data-toggle="collapse"]'));for(let l=0,o=t.length;l<o;l+=1){const o=E(t[l]);let s=!1;if(i(o)>0){for(let a=0,n=e.collapseElPlannedToBeOpened.length;a<n;a+=1)!0===T(e.collapseElPlannedToBeOpened[a],o)&&!1===s&&(p(t[l],"collapsed"),t[l].setAttribute("aria-expanded","true"),s=!0);if(!1===s)for(let s=0,a=e.collapseElPlannedToBeClosed.length;s<a;s+=1)if(!0===T(e.collapseElPlannedToBeClosed[s],o)){const e=document.querySelectorAll(`${o}.show`);0===i(e)&&(u(t[l],"collapsed"),t[l].setAttribute("aria-expanded","false"))}}}}thisCollapseIsShown(){return c(this.collapseEl,"show")||c(this.collapseEl,"collapsing")}handleToggle(e){if(d(e,"parent")&&!0!==e.ignoreAccordion){let t;if(B(e.parent)?t=e.parent:(t=document.querySelector(e.parent))||console.warn(`unable to find accordion parent by selector: "${e.parent}"`),t){const l=Array.prototype.slice.call(t.querySelectorAll(".collapse"));for(let o=0,s=l.length;o<s;o+=1)c(l[o],"show")&&T(t,l[o].dataset.parent)&&e.collapseElPlannedToBeClosed.push(l[o])}}return"show"===e.toggle?(e.collapseElPlannedToBeOpened.push(this.collapseEl),void this.showCollapse(this.collapseEl,e)):"hide"===e.toggle?(e.collapseElPlannedToBeClosed.push(this.collapseEl),void this.hideCollapse(this.collapseEl,e)):this.thisCollapseIsShown()?(e.collapseElPlannedToBeClosed.push(this.collapseEl),void this.hideCollapse(this.collapseEl,e)):(e.collapseElPlannedToBeOpened.push(this.collapseEl),void this.showCollapse(this.collapseEl,e))}showCollapse(e,t){if(c(e,"show")||c(e,"collapsing"))return;if(g(e,this.showEventName,{},t.relatedTarget).defaultPrevented)return;const l=O.getDimension(e),o=`scroll${w(l)}`;u(e,"collapsing"),p(e,"collapse"),!0!==t.ignoreAccordion&&this.closeOtherOpenAccordions(t),!0!==t.ignoreDataToggles&&O.handleToggleDataToggles(t);const s=f(e);setTimeout(()=>{p(e,"collapsing"),u(e,"collapse"),u(e,"show"),e.style[l]="",t.relatedTarget&&(this.relatedTarget=t.relatedTarget),g(e,this.shownEventName,{},t.relatedTarget)},s),e.style[l]=`${e[o]}px`}hideCollapse(e,t){if(!c(e,"show"))return;if(g(e,this.hideEventName,{},this.relatedTarget).defaultPrevented)return;const l=O.getDimension(e);e.style[l]=`${e.getBoundingClientRect()[l]}px`,m(e),u(e,"collapsing"),p(e,"collapse"),p(e,"show"),e.style[l]="",!0!==t.ignoreDataToggles&&O.handleToggleDataToggles(t);const o=f(e);setTimeout(()=>{p(e,"collapsing"),u(e,"collapse"),g(e,this.hiddenEventName,{},this.relatedTarget),this.relatedTarget=null},o)}static getDimension(e){return c(e,"width")?"width":"height"}collapse(e,t=null){if(0===i(e))return this.collapseEl;if("toggle"===e)return this.handleToggle(this.getConfig({toggle:"toggle"},t)),!0;if("show"===e)return this.handleToggle(this.getConfig({toggle:"show"},t)),!0;if("hide"===e)return this.handleToggle(this.getConfig({toggle:"hide"},t)),!0;if("string"==typeof e)throw new Error(`No method named "${e}"`);return"object"==typeof e?(this.handleToggle(this.getConfig(e,t)),!0):null}render(){return e("slot",null)}static get is(){return"bs-collapse"}static get properties(){return{collapse:{method:!0},collapseEl:{elementRef:!0},hiddenEventName:{type:String,attr:"hidden-event-name"},hideEventName:{type:String,attr:"hide-event-name"},relatedTarget:{state:!0},showEventName:{type:String,attr:"show-event-name"},shownEventName:{type:String,attr:"shown-event-name"}}}static get style(){return"bs-collapse{display:block}"}}export{O as BsCollapse};