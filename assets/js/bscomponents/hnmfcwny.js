/*! Built with http://stenciljs.com */
const{h:e}=window.bscomponents;import{f as l,n as t,h as o,i as s,z as a,c as n,d as r,p as i,t as c,s as g,r as h,q as p}from"./chunk-89dac778.js";import{a as d}from"./chunk-96a54a48.js";import{c as u}from"./chunk-79b4afa6.js";import{a as T}from"./chunk-6568b9ed.js";import{a as f}from"./chunk-89796593.js";import{b as E,a as m}from"./chunk-5028a50e.js";import{a as w}from"./chunk-e1923c80.js";import"./chunk-5260d582.js";var C=function(e){e=s(e);var a=t(e)?o(e):void 0,n=a?a[0]:e.charAt(0),r=a?l(a,1).join(""):e.slice(1);return n.toUpperCase()+r},y=a(Object.getPrototypeOf,Object),b=Function.prototype,v=Object.prototype,P=b.toString,B=v.hasOwnProperty,A=P.call(Object),D=function(e){return r(e)&&1===e.nodeType&&!function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var l=y(e);if(null===l)return!0;var t=B.call(l,"constructor")&&l.constructor;return"function"==typeof t&&t instanceof t&&P.call(t)==A}(e)};class j{constructor(){this.showEventName="show.bs.collapse",this.shownEventName="shown.bs.collapse",this.hideEventName="hide.bs.collapse",this.hiddenEventName="hidden.bs.collapse",this.ignoreAccordion=!1,this.ignoreDataToggles=!1,this.showCollapse=!1}componentWillLoad(){if(!1===this.thisCollapseIsShown()&&!0===this.showCollapse){g(this.collapseEl,"show"),h(this.collapseEl,"collapsing"),g(this.collapseEl,"collapse");const e=j.getDimension(this.collapseEl);this.collapseEl.style[e]="";const l=this.getConfig({toggle:"show"});let t;if(D(l.parent)?t=l.parent:(t=m(this.collapseEl,l.parent))||console.warn(`unable to find accordion parent by selector: "${l.parent}"`),t){const e=Array.prototype.slice.call(t.querySelectorAll(".collapse"));for(let o=0,s=e.length;o<s;o+=1)c(e[o],"show")&&E(t,e[o].dataset.parent)&&!e[o].isEqualNode(this.collapseEl)&&l.collapseElPlannedToBeClosed.push(e[o])}if(!0!==l.ignoreAccordion)for(let e=0,t=l.collapseElPlannedToBeClosed.length;e<t;e+=1){h(l.collapseElPlannedToBeClosed[e],"show"),h(l.collapseElPlannedToBeClosed[e],"collapsing"),g(l.collapseElPlannedToBeClosed[e],"collapse");const t=j.getDimension(l.collapseElPlannedToBeClosed[e]);this.collapseEl.style[t]=""}!0!==l.ignoreDataToggles&&j.handleToggleDataToggles(l)}}componentDidUnload(){this.relatedTarget=null}getConfig(e={},l=null){const t={};return t.relatedTarget=l,!0===e.toggle?t.toggle="toggle":!1===e.toggle?!0===this.thisCollapseIsShown()?t.toggle="show":t.toggle="hide":t.toggle=d(e,"toggle","toggle"),u(e,"ignoreAccordion")?t.ignoreAccordion=e.ignoreAccordion:t.ignoreAccordion=this.ignoreAccordion,u(e,"ignoreDataToggles")?t.ignoreDataToggles=e.ignoreDataToggles:t.ignoreDataToggles=this.ignoreDataToggles,t.collapseElPlannedToBeOpened=[],t.collapseElPlannedToBeClosed=[],u(e,"target")?t.targetSelector=e.target:l&&u(l.dataset,"target")&&(t.targetSelector=l.dataset.target),u(e,"parent")&&D(e.parent)?t.parent=e.parent:u(e,"parent")&&"string"==typeof e.parent&&i(e.parent)>1?t.parent=e.parent:u(this.collapseEl.dataset,"parent")&&(t.parent=this.collapseEl.dataset.parent),t}closeOtherOpenAccordions(e){for(let l=0,t=e.collapseElPlannedToBeClosed.length;l<t;l+=1)e.collapseElPlannedToBeClosed[l].collapse&&!this.collapseEl.isEqualNode(e.collapseElPlannedToBeClosed[l])?e.collapseElPlannedToBeClosed[l].collapse({toggle:"hide",ignoreAccordion:!0,ignoreDataToggles:!0}):console.error('Unable to toggle collapse for all targets due to unavailable bs-collapse method "collapse')}static handleToggleDataToggles(e){const l=Array.prototype.slice.call(document.querySelectorAll('[data-toggle="collapse"]'));for(let t=0,o=l.length;t<o;t+=1){const o=w(l[t]);let s=!1;if(i(o)>0){for(let a=0,n=e.collapseElPlannedToBeOpened.length;a<n;a+=1)!0===E(e.collapseElPlannedToBeOpened[a],o)&&!1===s&&(h(l[t],"collapsed"),l[t].setAttribute("aria-expanded","true"),s=!0);if(!1===s)for(let s=0,a=e.collapseElPlannedToBeClosed.length;s<a;s+=1)if(!0===E(e.collapseElPlannedToBeClosed[s],o)){const e=document.querySelectorAll(`${o}.show`);0===i(e)&&(g(l[t],"collapsed"),l[t].setAttribute("aria-expanded","false"))}}}}thisCollapseIsShown(){return c(this.collapseEl,"show")||c(this.collapseEl,"collapsing")}handleToggle(e){if(u(e,"parent")&&!0!==e.ignoreAccordion){let l;if(D(e.parent)?l=e.parent:(l=m(this.collapseEl,e.parent))||console.warn(`unable to find accordion parent by selector: "${e.parent}"`),l){const t=Array.prototype.slice.call(l.querySelectorAll(".collapse"));for(let o=0,s=t.length;o<s;o+=1)c(t[o],"show")&&E(l,t[o].dataset.parent)&&e.collapseElPlannedToBeClosed.push(t[o])}}return"show"===e.toggle?(e.collapseElPlannedToBeOpened.push(this.collapseEl),void this.show(this.collapseEl,e)):"hide"===e.toggle?(e.collapseElPlannedToBeClosed.push(this.collapseEl),void this.hideCollapse(this.collapseEl,e)):this.thisCollapseIsShown()?(e.collapseElPlannedToBeClosed.push(this.collapseEl),void this.hideCollapse(this.collapseEl,e)):(e.collapseElPlannedToBeOpened.push(this.collapseEl),void this.show(this.collapseEl,e))}show(e,l){if(c(e,"show")||c(e,"collapsing"))return;if(p(e,this.showEventName,{},l.relatedTarget).defaultPrevented)return;const t=j.getDimension(e),o=`scroll${C(t)}`;g(e,"collapsing"),h(e,"collapse"),!0!==l.ignoreAccordion&&this.closeOtherOpenAccordions(l),!0!==l.ignoreDataToggles&&j.handleToggleDataToggles(l);const s=T(e);setTimeout(()=>{h(e,"collapsing"),g(e,"collapse"),g(e,"show"),e.style[t]="",l.relatedTarget&&(this.relatedTarget=l.relatedTarget),p(e,this.shownEventName,{},l.relatedTarget)},s),e.style[t]=`${e[o]}px`}hideCollapse(e,l){if(!c(e,"show"))return;if(p(e,this.hideEventName,{},this.relatedTarget).defaultPrevented)return;const t=j.getDimension(e);e.style[t]=`${e.getBoundingClientRect()[t]}px`,f(e),g(e,"collapsing"),h(e,"collapse"),h(e,"show"),e.style[t]="",!0!==l.ignoreDataToggles&&j.handleToggleDataToggles(l);const o=T(e);setTimeout(()=>{h(e,"collapsing"),g(e,"collapse"),p(e,this.hiddenEventName,{},this.relatedTarget),this.relatedTarget=null},o)}static getDimension(e){return c(e,"width")?"width":"height"}handlePresentWatch(e){e?this.handleToggle(this.getConfig({toggle:"show"})):this.handleToggle(this.getConfig({toggle:"hide"}))}collapse(e,l=null){if(0===i(e))return this.collapseEl;if("toggle"===e)return this.handleToggle(this.getConfig({toggle:"toggle"},l)),!0;if("show"===e)return this.handleToggle(this.getConfig({toggle:"show"},l)),!0;if("hide"===e)return this.handleToggle(this.getConfig({toggle:"hide"},l)),!0;if("string"==typeof e)throw new Error(`No method named "${e}"`);return"object"==typeof e?(this.handleToggle(this.getConfig(e,l)),!0):null}render(){return e("slot",null)}static get is(){return"bs-collapse"}static get properties(){return{collapse:{method:!0},collapseEl:{elementRef:!0},hiddenEventName:{type:String,attr:"hidden-event-name"},hideEventName:{type:String,attr:"hide-event-name"},ignoreAccordion:{type:Boolean,attr:"ignore-accordion",mutable:!0},ignoreDataToggles:{type:Boolean,attr:"ignore-data-toggles",mutable:!0},relatedTarget:{state:!0},showCollapse:{type:Boolean,attr:"show-collapse",mutable:!0,watchCallbacks:["handlePresentWatch"]},showEventName:{type:String,attr:"show-event-name"},shownEventName:{type:String,attr:"shown-event-name"}}}static get style(){return"bs-collapse{display:block}"}}export{j as BsCollapse};